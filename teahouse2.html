<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>知名茶楼</title>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div class="bg" id="teahouse2"><div>
	<div>
		<h2 align="center">趣味拼图</h2>
			<div id="pingtu">
				<ul id="begin">
					<li ondrop="drop(event)" ondragover="dropOver(event)">
						<img src="img/inherit/images/02.gif" alt="" width="100px" height="100px" draggable="true" id="drag1" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
					</li>
					<li ondrop="drop(event)" ondragover="dropOver(event)">
						<img src="img/inherit/images/05.gif" alt="" width="100px" height="100px" draggable="true" id="drag2" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
					</li>
					<li ondrop="drop(event)" ondragover="dropOver(event)">
						<img src="img/inherit/images/09.gif" alt="" width="100px" height="100px" draggable="true" id="drag3" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
					</li>
					<li ondrop="drop(event)" ondragover="dropOver(event)">
						<img src="img/inherit/images/01.gif" alt="" width="100px" height="100px" draggable="true" id="drag4" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
					</li>
					<li ondrop="drop(event)" ondragover="dropOver(event)">
						<img src="img/inherit/images/06.gif" alt="" width="100px" height="100px" draggable="true" id="drag5" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
					</li>
					<li ondrop="drop(event)" ondragover="dropOver(event)">
						<img src="img/inherit/images/03.gif" alt="" width="100px" height="100px" draggable="true" id="drag6" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
					</li>
					<li ondrop="drop(event)" ondragover="dropOver(event)">
						<img src="img/inherit/images/08.gif" alt="" width="100px" height="100px" draggable="true" id="drag7" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
					</li>
					<li ondrop="drop(event)" ondragover="dropOver(event)">
						<img src="img/inherit/images/04.gif" alt="" width="100px" height="100px" draggable="true" id="drag8" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
					</li>
					<li ondrop="drop(event)" ondragover="dropOver(event)">
						<img src="img/inherit/images/07.gif" alt="" width="100px" height="100px" draggable="true" id="drag9" ondragstart="dragStart(event)" ondragend="dragEnd(event)">
					</li>
				</ul>
			<div class="pass" style="color: white;font-family: 华文行楷;"><p id="success">恭喜您，拼图成功！</p></div>
		<script>
		var start_index;
		var end_index;
		function dragStart(event) {
			console.log("dragStart: " + event.target.id);
			start_index = event.target.id;
		}
		function dragEnd(event) {
			event.preventDefault();
		}
		function dropOver(event) {
			event.preventDefault();
		}
		function drop(event) {event.preventDefault();
			console.log("drop: "+event.target.id);
			end_index = event.target.id;
			exchange(start_index, end_index, "src");
			check();}
		function exchange(id1, id2, attri){ele1 = document.getElementById(id1);
			ele2 = document.getElementById(id2);
			var tmp_attri = ele1.getAttribute(attri);
			ele1.setAttribute(attri, ele2.getAttribute(attri));
			ele2.setAttribute(attri, tmp_attri);}
		function check(){var img_list = document.getElementsByTagName("img");
			var img_src,dot_index,img_index;
			for(var i=0; i<9; i++){img_src = img_list[i].getAttribute("src");
				dot_index = img_src.lastIndexOf(".");
				img_index = Number(img_src.slice(dot_index - 2, dot_index));
				if (img_index != i+1) return false;}
			var success = document.getElementById("success");
			success.style.display = "block";}
		</script>
			</div>
	</div>
	<div class="btn">
	<a href="teahouse1.html"><img src="img/teahouse/10.png" width="101" height="25" alt="" style="margin: 50px 0px 0px -80px"/></a>
	<a href="list.html"><img src="img/teahouse/9.png" width="80" height="25" alt="" style="margin:50px 0px 0px 90px"/></a>
	</div>
	</div>
</div>
</body>
</html>
